const Q=globalThis,ct=Q.ShadowRoot&&(Q.ShadyCSS===void 0||Q.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Rt=Symbol(),mt=new WeakMap;let Jt=class{constructor(t,i,r){if(this._$cssResult$=!0,r!==Rt)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=i}get styleSheet(){let t=this.o;const i=this.t;if(ct&&t===void 0){const r=i!==void 0&&i.length===1;r&&(t=mt.get(i)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&mt.set(i,t))}return t}toString(){return this.cssText}};const It=e=>new Jt(typeof e=="string"?e:e+"",void 0,Rt),Xt=(e,t)=>{if(ct)e.adoptedStyleSheets=t.map(i=>i instanceof CSSStyleSheet?i:i.styleSheet);else for(const i of t){const r=document.createElement("style"),s=Q.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=i.cssText,e.appendChild(r)}},bt=ct?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let i="";for(const r of t.cssRules)i+=r.cssText;return It(i)})(e):e;const{is:Qt,defineProperty:Yt,getOwnPropertyDescriptor:Lt,getOwnPropertyNames:te,getOwnPropertySymbols:ee,getPrototypeOf:ie}=Object,it=globalThis,At=it.trustedTypes,re=At?At.emptyScript:"",se=it.reactiveElementPolyfillSupport,V=(e,t)=>e,Y={toAttribute(e,t){switch(t){case Boolean:e=e?re:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=e!==null;break;case Number:i=e===null?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch{i=null}}return i}},ht=(e,t)=>!Qt(e,t),vt={attribute:!0,type:String,converter:Y,reflect:!1,useDefault:!1,hasChanged:ht};Symbol.metadata??=Symbol("metadata"),it.litPropertyMetadata??=new WeakMap;let R=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,i=vt){if(i.state&&(i.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((i=Object.create(i)).wrapped=!0),this.elementProperties.set(t,i),!i.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(t,r,i);s!==void 0&&Yt(this.prototype,t,s)}}static getPropertyDescriptor(t,i,r){const{get:s,set:n}=Lt(this.prototype,t)??{get(){return this[i]},set(o){this[i]=o}};return{get:s,set(o){const c=s?.call(this);n?.call(this,o),this.requestUpdate(t,c,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??vt}static _$Ei(){if(this.hasOwnProperty(V("elementProperties")))return;const t=ie(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(V("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(V("properties"))){const i=this.properties,r=[...te(i),...ee(i)];for(const s of r)this.createProperty(s,i[s])}const t=this[Symbol.metadata];if(t!==null){const i=litPropertyMetadata.get(t);if(i!==void 0)for(const[r,s]of i)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[i,r]of this.elementProperties){const s=this._$Eu(i,r);s!==void 0&&this._$Eh.set(s,i)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const i=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const s of r)i.unshift(bt(s))}else t!==void 0&&i.push(bt(t));return i}static _$Eu(t,i){const r=i.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,i=this.constructor.elementProperties;for(const r of i.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Xt(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,i,r){this._$AK(t,r)}_$ET(t,i){const r=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,r);if(s!==void 0&&r.reflect===!0){const n=(r.converter?.toAttribute!==void 0?r.converter:Y).toAttribute(i,r.type);this._$Em=t,n==null?this.removeAttribute(s):this.setAttribute(s,n),this._$Em=null}}_$AK(t,i){const r=this.constructor,s=r._$Eh.get(t);if(s!==void 0&&this._$Em!==s){const n=r.getPropertyOptions(s),o=typeof n.converter=="function"?{fromAttribute:n.converter}:n.converter?.fromAttribute!==void 0?n.converter:Y;this._$Em=s;const c=o.fromAttribute(i,n.type);this[s]=c??this._$Ej?.get(s)??c,this._$Em=null}}requestUpdate(t,i,r,s=!1,n){if(t!==void 0){const o=this.constructor;if(s===!1&&(n=this[t]),r??=o.getPropertyOptions(t),!((r.hasChanged??ht)(n,i)||r.useDefault&&r.reflect&&n===this._$Ej?.get(t)&&!this.hasAttribute(o._$Eu(t,r))))return;this.C(t,i,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,i,{useDefault:r,reflect:s,wrapped:n},o){r&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,o??i??this[t]),n!==!0||o!==void 0)||(this._$AL.has(t)||(this.hasUpdated||r||(i=void 0),this._$AL.set(t,i)),s===!0&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(i){Promise.reject(i)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[s,n]of this._$Ep)this[s]=n;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[s,n]of r){const{wrapped:o}=n,c=this[s];o!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,n,c)}}let t=!1;const i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(i)):this._$EM()}catch(r){throw t=!1,this._$EM(),r}t&&this._$AE(i)}willUpdate(t){}_$AE(t){this._$EO?.forEach(i=>i.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach(i=>this._$ET(i,this[i])),this._$EM()}updated(t){}firstUpdated(t){}};R.elementStyles=[],R.shadowRootOptions={mode:"open"},R[V("elementProperties")]=new Map,R[V("finalized")]=new Map,se?.({ReactiveElement:R}),(it.reactiveElementVersions??=[]).push("2.1.2");const ut=globalThis,St=e=>e,L=ut.trustedTypes,wt=L?L.createPolicy("lit-html",{createHTML:e=>e}):void 0,Dt="$lit$",P=`lit$${Math.random().toFixed(9).slice(2)}$`,zt="?"+P,ne=`<${zt}>`,N=document,F=()=>N.createComment(""),K=e=>e===null||typeof e!="object"&&typeof e!="function",dt=Array.isArray,oe=e=>dt(e)||typeof e?.[Symbol.iterator]=="function",ot=`[ 	
\f\r]`,k=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ct=/-->/g,Et=/>/g,j=RegExp(`>|${ot}(?:([^\\s"'>=/]+)(${ot}*=${ot}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Pt=/'/g,Tt=/"/g,Gt=/^(?:script|style|textarea|title)$/i,ae=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),S=ae(1),I=Symbol.for("lit-noChange"),m=Symbol.for("lit-nothing"),xt=new WeakMap,M=N.createTreeWalker(N,129);function kt(e,t){if(!dt(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return wt!==void 0?wt.createHTML(t):t}const le=(e,t)=>{const i=e.length-1,r=[];let s,n=t===2?"<svg>":t===3?"<math>":"",o=k;for(let c=0;c<i;c++){const l=e[c];let h,a,u=-1,f=0;for(;f<l.length&&(o.lastIndex=f,a=o.exec(l),a!==null);)f=o.lastIndex,o===k?a[1]==="!--"?o=Ct:a[1]!==void 0?o=Et:a[2]!==void 0?(Gt.test(a[2])&&(s=RegExp("</"+a[2],"g")),o=j):a[3]!==void 0&&(o=j):o===j?a[0]===">"?(o=s??k,u=-1):a[1]===void 0?u=-2:(u=o.lastIndex-a[2].length,h=a[1],o=a[3]===void 0?j:a[3]==='"'?Tt:Pt):o===Tt||o===Pt?o=j:o===Ct||o===Et?o=k:(o=j,s=void 0);const _=o===j&&e[c+1].startsWith("/>")?" ":"";n+=o===k?l+ne:u>=0?(r.push(h),l.slice(0,u)+Dt+l.slice(u)+P+_):l+P+(u===-2?c:_)}return[kt(e,n+(e[i]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};class Z{constructor({strings:t,_$litType$:i},r){let s;this.parts=[];let n=0,o=0;const c=t.length-1,l=this.parts,[h,a]=le(t,i);if(this.el=Z.createElement(h,r),M.currentNode=this.el.content,i===2||i===3){const u=this.el.content.firstChild;u.replaceWith(...u.childNodes)}for(;(s=M.nextNode())!==null&&l.length<c;){if(s.nodeType===1){if(s.hasAttributes())for(const u of s.getAttributeNames())if(u.endsWith(Dt)){const f=a[o++],_=s.getAttribute(u).split(P),b=/([.?@])?(.*)/.exec(f);l.push({type:1,index:n,name:b[2],strings:_,ctor:b[1]==="."?he:b[1]==="?"?ue:b[1]==="@"?de:rt}),s.removeAttribute(u)}else u.startsWith(P)&&(l.push({type:6,index:n}),s.removeAttribute(u));if(Gt.test(s.tagName)){const u=s.textContent.split(P),f=u.length-1;if(f>0){s.textContent=L?L.emptyScript:"";for(let _=0;_<f;_++)s.append(u[_],F()),M.nextNode(),l.push({type:2,index:++n});s.append(u[f],F())}}}else if(s.nodeType===8)if(s.data===zt)l.push({type:2,index:n});else{let u=-1;for(;(u=s.data.indexOf(P,u+1))!==-1;)l.push({type:7,index:n}),u+=P.length-1}n++}}static createElement(t,i){const r=N.createElement("template");return r.innerHTML=t,r}}function D(e,t,i=e,r){if(t===I)return t;let s=r!==void 0?i._$Co?.[r]:i._$Cl;const n=K(t)?void 0:t._$litDirective$;return s?.constructor!==n&&(s?._$AO?.(!1),n===void 0?s=void 0:(s=new n(e),s._$AT(e,i,r)),r!==void 0?(i._$Co??=[])[r]=s:i._$Cl=s),s!==void 0&&(t=D(e,s._$AS(e,t.values),s,r)),t}class ce{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:r}=this._$AD,s=(t?.creationScope??N).importNode(i,!0);M.currentNode=s;let n=M.nextNode(),o=0,c=0,l=r[0];for(;l!==void 0;){if(o===l.index){let h;l.type===2?h=new X(n,n.nextSibling,this,t):l.type===1?h=new l.ctor(n,l.name,l.strings,this,t):l.type===6&&(h=new fe(n,this,t)),this._$AV.push(h),l=r[++c]}o!==l?.index&&(n=M.nextNode(),o++)}return M.currentNode=N,s}p(t){let i=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,i),i+=r.strings.length-2):r._$AI(t[i])),i++}}class X{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,r,s){this.type=2,this._$AH=m,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=r,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&t?.nodeType===11&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=D(this,t,i),K(t)?t===m||t==null||t===""?(this._$AH!==m&&this._$AR(),this._$AH=m):t!==this._$AH&&t!==I&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):oe(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==m&&K(this._$AH)?this._$AA.nextSibling.data=t:this.T(N.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:r}=t,s=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=Z.createElement(kt(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===s)this._$AH.p(i);else{const n=new ce(s,this),o=n.u(this.options);n.p(i),this.T(o),this._$AH=n}}_$AC(t){let i=xt.get(t.strings);return i===void 0&&xt.set(t.strings,i=new Z(t)),i}k(t){dt(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let r,s=0;for(const n of t)s===i.length?i.push(r=new X(this.O(F()),this.O(F()),this,this.options)):r=i[s],r._$AI(n),s++;s<i.length&&(this._$AR(r&&r._$AB.nextSibling,s),i.length=s)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t!==this._$AB;){const r=St(t).nextSibling;St(t).remove(),t=r}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}}class rt{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,r,s,n){this.type=1,this._$AH=m,this._$AN=void 0,this.element=t,this.name=i,this._$AM=s,this.options=n,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=m}_$AI(t,i=this,r,s){const n=this.strings;let o=!1;if(n===void 0)t=D(this,t,i,0),o=!K(t)||t!==this._$AH&&t!==I,o&&(this._$AH=t);else{const c=t;let l,h;for(t=n[0],l=0;l<n.length-1;l++)h=D(this,c[r+l],i,l),h===I&&(h=this._$AH[l]),o||=!K(h)||h!==this._$AH[l],h===m?t=m:t!==m&&(t+=(h??"")+n[l+1]),this._$AH[l]=h}o&&!s&&this.j(t)}j(t){t===m?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class he extends rt{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===m?void 0:t}}class ue extends rt{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==m)}}class de extends rt{constructor(t,i,r,s,n){super(t,i,r,s,n),this.type=5}_$AI(t,i=this){if((t=D(this,t,i,0)??m)===I)return;const r=this._$AH,s=t===m&&r!==m||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,n=t!==m&&(r===m||s);s&&this.element.removeEventListener(this.name,this,r),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class fe{constructor(t,i,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){D(this,t)}}const pe=ut.litHtmlPolyfillSupport;pe?.(Z,X),(ut.litHtmlVersions??=[]).push("3.3.2");const _e=(e,t,i)=>{const r=i?.renderBefore??t;let s=r._$litPart$;if(s===void 0){const n=i?.renderBefore??null;r._$litPart$=s=new X(t.insertBefore(F(),n),n,void 0,i??{})}return s._$AI(e),s};const ft=globalThis;let W=class extends R{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=_e(i,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return I}};W._$litElement$=!0,W.finalized=!0,ft.litElementHydrateSupport?.({LitElement:W});const ye=ft.litElementPolyfillSupport;ye?.({LitElement:W});(ft.litElementVersions??=[]).push("4.2.2");const $e={attribute:!0,type:String,converter:Y,reflect:!1,hasChanged:ht},ge=(e=$e,t,i)=>{const{kind:r,metadata:s}=i;let n=globalThis.litPropertyMetadata.get(s);if(n===void 0&&globalThis.litPropertyMetadata.set(s,n=new Map),r==="setter"&&((e=Object.create(e)).wrapped=!0),n.set(i.name,e),r==="accessor"){const{name:o}=i;return{set(c){const l=t.get.call(this);t.set.call(this,c),this.requestUpdate(o,l,e,!0,c)},init(c){return c!==void 0&&this.C(o,void 0,e,c),c}}}if(r==="setter"){const{name:o}=i;return function(c){const l=this[o];t.call(this,c),this.requestUpdate(o,l,e,!0,c)}}throw Error("Unsupported decorator location: "+r)};function w(e){return(t,i)=>typeof i=="object"?ge(e,t,i):((r,s,n)=>{const o=s.hasOwnProperty(n);return s.constructor.createProperty(n,r),o?Object.getOwnPropertyDescriptor(s,n):void 0})(e,t,i)}function me(e){return w({...e,state:!0,attribute:!1})}const be=e=>e.strings===void 0;const Ae={CHILD:2},ve=e=>(...t)=>({_$litDirective$:e,values:t});class Se{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,i,r){this._$Ct=t,this._$AM=i,this._$Ci=r}_$AS(t,i){return this.update(t,i)}update(t,i){return this.render(...i)}}const q=(e,t)=>{const i=e._$AN;if(i===void 0)return!1;for(const r of i)r._$AO?.(t,!1),q(r,t);return!0},tt=e=>{let t,i;do{if((t=e._$AM)===void 0)break;i=t._$AN,i.delete(e),e=t}while(i?.size===0)},Bt=e=>{for(let t;t=e._$AM;e=t){let i=t._$AN;if(i===void 0)t._$AN=i=new Set;else if(i.has(e))break;i.add(e),Ee(t)}};function we(e){this._$AN!==void 0?(tt(this),this._$AM=e,Bt(this)):this._$AM=e}function Ce(e,t=!1,i=0){const r=this._$AH,s=this._$AN;if(s!==void 0&&s.size!==0)if(t)if(Array.isArray(r))for(let n=i;n<r.length;n++)q(r[n],!1),tt(r[n]);else r!=null&&(q(r,!1),tt(r));else q(this,e)}const Ee=e=>{e.type==Ae.CHILD&&(e._$AP??=Ce,e._$AQ??=we)};class Pe extends Se{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,i,r){super._$AT(t,i,r),Bt(this),this.isConnected=t._$AU}_$AO(t,i=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),i&&(q(this,t),tt(this))}setValue(t){if(be(this._$Ct))this._$Ct._$AI(t,this);else{const i=[...this._$Ct._$AH];i[this._$Ci]=t,this._$Ct._$AI(i,this,0)}}disconnected(){}reconnected(){}}const Te=()=>new xe;class xe{}const at=new WeakMap,Oe=ve(class extends Pe{render(e){return m}update(e,[t]){const i=t!==this.G;return i&&this.G!==void 0&&this.rt(void 0),(i||this.lt!==this.ct)&&(this.G=t,this.ht=e.options?.host,this.rt(this.ct=e.element)),m}rt(e){if(this.isConnected||(e=void 0),typeof this.G=="function"){const t=this.ht??globalThis;let i=at.get(t);i===void 0&&(i=new WeakMap,at.set(t,i)),i.get(this.G)!==void 0&&this.G.call(this.ht,void 0),i.set(this.G,e),e!==void 0&&this.G.call(this.ht,e)}else this.G.value=e}get lt(){return typeof this.G=="function"?at.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var je=typeof global=="object"&&global&&global.Object===Object&&global,Me=typeof self=="object"&&self&&self.Object===Object&&self,pt=je||Me||Function("return this")(),z=pt.Symbol,Vt=Object.prototype,Ne=Vt.hasOwnProperty,Ue=Vt.toString,B=z?z.toStringTag:void 0;function He(e){var t=Ne.call(e,B),i=e[B];try{e[B]=void 0;var r=!0}catch{}var s=Ue.call(e);return r&&(t?e[B]=i:delete e[B]),s}var Re=Object.prototype,Ie=Re.toString;function De(e){return Ie.call(e)}var ze="[object Null]",Ge="[object Undefined]",Ot=z?z.toStringTag:void 0;function Wt(e){return e==null?e===void 0?Ge:ze:Ot&&Ot in Object(e)?He(e):De(e)}function et(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ke="[object AsyncFunction]",Be="[object Function]",Ve="[object GeneratorFunction]",We="[object Proxy]";function qe(e){if(!et(e))return!1;var t=Wt(e);return t==Be||t==Ve||t==ke||t==We}var lt=pt["__core-js_shared__"],jt=(function(){var e=/[^.]+$/.exec(lt&&lt.keys&&lt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function Fe(e){return!!jt&&jt in e}var Ke=Function.prototype,Ze=Ke.toString;function Je(e){if(e!=null){try{return Ze.call(e)}catch{}try{return e+""}catch{}}return""}var Xe=/[\\^$.*+?()[\]{}|]/g,Qe=/^\[object .+?Constructor\]$/,Ye=Function.prototype,Le=Object.prototype,ti=Ye.toString,ei=Le.hasOwnProperty,ii=RegExp("^"+ti.call(ei).replace(Xe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ri(e){if(!et(e)||Fe(e))return!1;var t=qe(e)?ii:Qe;return t.test(Je(e))}function si(e,t){return e?.[t]}function _t(e,t){var i=si(e,t);return ri(i)?i:void 0}var Mt=(function(){try{var e=_t(Object,"defineProperty");return e({},"",{}),e}catch{}})();function ni(e,t,i){t=="__proto__"&&Mt?Mt(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function qt(e,t){return e===t||e!==e&&t!==t}var oi=Object.prototype,ai=oi.hasOwnProperty;function li(e,t,i){var r=e[t];(!(ai.call(e,t)&&qt(r,i))||i===void 0&&!(t in e))&&ni(e,t,i)}var yt=Array.isArray;function ci(e){return e!=null&&typeof e=="object"}var hi="[object Symbol]";function $t(e){return typeof e=="symbol"||ci(e)&&Wt(e)==hi}var ui=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,di=/^\w*$/;function fi(e,t){if(yt(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||$t(e)?!0:di.test(e)||!ui.test(e)||t!=null&&e in Object(t)}var J=_t(Object,"create");function pi(){this.__data__=J?J(null):{},this.size=0}function _i(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var yi="__lodash_hash_undefined__",$i=Object.prototype,gi=$i.hasOwnProperty;function mi(e){var t=this.__data__;if(J){var i=t[e];return i===yi?void 0:i}return gi.call(t,e)?t[e]:void 0}var bi=Object.prototype,Ai=bi.hasOwnProperty;function vi(e){var t=this.__data__;return J?t[e]!==void 0:Ai.call(t,e)}var Si="__lodash_hash_undefined__";function wi(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=J&&t===void 0?Si:t,this}function U(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}U.prototype.clear=pi;U.prototype.delete=_i;U.prototype.get=mi;U.prototype.has=vi;U.prototype.set=wi;function Ci(){this.__data__=[],this.size=0}function st(e,t){for(var i=e.length;i--;)if(qt(e[i][0],t))return i;return-1}var Ei=Array.prototype,Pi=Ei.splice;function Ti(e){var t=this.__data__,i=st(t,e);if(i<0)return!1;var r=t.length-1;return i==r?t.pop():Pi.call(t,i,1),--this.size,!0}function xi(e){var t=this.__data__,i=st(t,e);return i<0?void 0:t[i][1]}function Oi(e){return st(this.__data__,e)>-1}function ji(e,t){var i=this.__data__,r=st(i,e);return r<0?(++this.size,i.push([e,t])):i[r][1]=t,this}function G(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}G.prototype.clear=Ci;G.prototype.delete=Ti;G.prototype.get=xi;G.prototype.has=Oi;G.prototype.set=ji;var Mi=_t(pt,"Map");function Ni(){this.size=0,this.__data__={hash:new U,map:new(Mi||G),string:new U}}function Ui(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function nt(e,t){var i=e.__data__;return Ui(t)?i[typeof t=="string"?"string":"hash"]:i.map}function Hi(e){var t=nt(this,e).delete(e);return this.size-=t?1:0,t}function Ri(e){return nt(this,e).get(e)}function Ii(e){return nt(this,e).has(e)}function Di(e,t){var i=nt(this,e),r=i.size;return i.set(e,t),this.size+=i.size==r?0:1,this}function H(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}H.prototype.clear=Ni;H.prototype.delete=Hi;H.prototype.get=Ri;H.prototype.has=Ii;H.prototype.set=Di;var zi="Expected a function";function gt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(zi);var i=function(){var r=arguments,s=t?t.apply(this,r):r[0],n=i.cache;if(n.has(s))return n.get(s);var o=e.apply(this,r);return i.cache=n.set(s,o)||n,o};return i.cache=new(gt.Cache||H),i}gt.Cache=H;var Gi=500;function ki(e){var t=gt(e,function(r){return i.size===Gi&&i.clear(),r}),i=t.cache;return t}var Bi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vi=/\\(\\)?/g,Wi=ki(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Bi,function(i,r,s,n){t.push(s?n.replace(Vi,"$1"):r||i)}),t});function qi(e,t){for(var i=-1,r=e==null?0:e.length,s=Array(r);++i<r;)s[i]=t(e[i],i,e);return s}var Nt=z?z.prototype:void 0,Ut=Nt?Nt.toString:void 0;function Ft(e){if(typeof e=="string")return e;if(yt(e))return qi(e,Ft)+"";if($t(e))return Ut?Ut.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Fi(e){return e==null?"":Ft(e)}function Ki(e,t){return yt(e)?e:fi(e,t)?[e]:Wi(Fi(e))}var Zi=9007199254740991,Ji=/^(?:0|[1-9]\d*)$/;function Xi(e,t){var i=typeof e;return t=t??Zi,!!t&&(i=="number"||i!="symbol"&&Ji.test(e))&&e>-1&&e%1==0&&e<t}function Qi(e){if(typeof e=="string"||$t(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Yi(e,t,i,r){if(!et(e))return e;t=Ki(t,e);for(var s=-1,n=t.length,o=n-1,c=e;c!=null&&++s<n;){var l=Qi(t[s]),h=i;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(s!=o){var a=c[l];h=void 0,h===void 0&&(h=et(a)?a:Xi(t[s+1])?[]:{})}li(c,l,h),c=c[l]}return e}function Li(e,t,i){return e==null?e:Yi(e,t,i)}const tr=(e,t,i,r,s,n,o,c,l,h=!1,a=0)=>{if(!Array.isArray(t))return S``;const u=g=>{t||=[],Array.isArray(t)&&(typeof e.items!="object"||Array.isArray(e.items)||(e.items?.type==="string"?t.push(e.items?.default||""):e.items.properties?t.push(e.items?.default||{}):e.items?.type==="array"&&t.push(e.items?.default||[]),n([...i,t.length-1],t[t.length-1],c)))},f=g=>t?.map?.((T,p)=>{if(typeof e.items!="object"||Array.isArray(e.items)||!Array.isArray(t))return"";const d=[...c];d.push("items");const y=o(e.items,t[p],[...i,p],r,s?.[p],d,h,a+1),x=$=>E=>{if(!Array.isArray(t))return;const O=t[p];t[p]=t[p+$],t[p+$]=O,n([...i],t,c)},Kt={wrapper:{dragover:$=>{$.preventDefault(),$.stopPropagation();const E=$.dataTransfer;E&&(E.dropEffect="move")},dragenter:$=>{$.stopPropagation(),$.target.closest("sl-card")?.setAttribute("data-dropzone","")},dragleave:$=>{$.stopPropagation(),$.target.closest("sl-card")?.removeAttribute("data-dropzone")},drop:$=>{$.stopPropagation();const E=$.dataTransfer?.getData("integer");if(!E)return;const O=Number.parseInt(E,10);if(!Array.isArray(t))return;const Zt=t[p];t[p]=t[O],t[O]=Zt,n([...i],t,d),console.log({originIndex:O,idx:E}),$.target.closest("sl-card")?.removeAttribute("data-dropzone")}},handle:{mousedown:$=>{},dragstart:$=>{console.log($),$.dataTransfer&&$.dataTransfer.setData("integer",String(p))}},delete:{click:$=>{Array.isArray(t)&&(t=t.filter((E,O)=>O!==p),n([...i],t,c))}},up:{click:x(-1),disabled:typeof t?.[p-1]>"u"},down:{click:x(1),disabled:typeof t?.[p+1]>"u"}};return g(p,y,Kt)});let _;typeof e.items=="object"&&!Array.isArray(e.items)&&e.items.title&&(_=e.items.title);const A={label:e.title??s?.["ui:title"],items:f,itemLabel:_,controls:{add:{click:u}},level:a};return l?.array?.(A)},Ht=(e,t,i,r,s,n,o,c,l=0)=>{const h="Wrong object field";if(typeof e.properties!="object")return c.callout?.({id:"",message:h})??S`${h}`;const a=Object.entries(e.properties).map(([b,A])=>{if(Array.isArray(A)||typeof A=="boolean")return S``;const g=t?.[b],T=[...i,b],p=e.required?.includes(b),d=[...o];return d.push(b),n(A,g,T,r?.[b],s?.[b],d,p,l+1)});let u;const f=i.at(-1);e.title?u=e.title:typeof f!="number"&&(u=f),typeof s?.["ui:title"]=="string"&&(u=s["ui:title"]);const _={id:i.join("."),label:u,helpText:e.description,children:a,level:l};return c?.object?.(_)??c?.callout?.({id:"",message:h})??S`${h}`},er=(e,t,i,r,s,n,o,c,l)=>{const h=i.join(".");function a(d){const y={id:h,message:`Missing ${d} widget.`};return l?.callout?.(y)??S`<p>${y.message}</p>`}let u="";e.title?u=e.title:Number.isNaN(Number(i.at(-1)))&&(u=String(i.at(-1))),r?.["ui:title"]&&(u=r?.["ui:title"]);const f=r?.["ui:help"]??r?.["ui:description"]??e.description??"",_=r?.["ui:placeholder"]??"",b=r?.["ui:disabled"]||!1,A=r?.["ui:readonly"]||!1;let g;t!==void 0?g=t:typeof e.default<"u"&&(typeof e.default=="string"||typeof e.default=="number"||e.default==null||typeof e.default=="boolean")&&(g=e.default,n([...i],e.default,c));const p={label:u,helpText:f,placeholder:_,valueChangedCallback:d=>{let y=d;y===""&&(y=void 0),e?.type?.includes("null")&&(typeof d>"u"||d==="")&&(y=null),n(i,y,c)},handleKeydown:o,id:h,required:s,disabled:b,readonly:A};if(e?.enum&&(e.type==="integer"||e.type==="number"||e.type==="string")){const d={...p,value:g?String(g):"",type:e.type,enum:e.enum};return r?.["ui:widget"]==="radio"?l?.radioGroup?.(d)||a("radio group"):r?.["ui:widget"]==="button"?l?.buttonGroup?.(d)||a("button group"):l?.select?.(d)||a("select")}if(e.type==="string"&&r?.["ui:widget"]==="color"){const d={...p,value:g?String(g):""};return l?.colorPicker?.(d)||a("color picker")}if(e.format==="date"||e.format==="date-time"||e.format==="time"){let d=e.format,y=g;y&&(e.format,e.format,e.format==="date-time"&&(y instanceof Date||(y=new Date(y)),y instanceof Date&&(y=y.toISOString().split(".")[0]))),e.format==="date-time"&&(d="datetime-local");const x={...p,value:y,type:d};return l?.date?.(x)||a("date")}if(e.type==="string"){let d="text";(e.format==="password"||e.format==="email")&&(d=e.format),r?.["ui:widget"]==="password"&&(d="password"),r?.["ui:options"]?.inputType==="tel"&&(d="tel");const y={...p,value:g?String(g):"",inputType:d,minLength:e.minLength,maxLength:e.maxLength,pattern:e.pattern};if(r?.["ui:widget"]==="textarea")return l?.textarea?.(y)||a("textarea");if(typeof r?.["ui:widget"]=="string"){const x=r?.["ui:widget"];if(x!=="password")return l?.[x]?.(y)||a("custom")}return l?.text?.(y)||a("text")}if(e.type==="number"||e.type==="integer"){let d=e.multipleOf;typeof d>"u"&&(e.type?.includes("integer")&&(d=1),e.type?.includes("number")&&(d="any"));const y={...p,value:typeof g<"u"?Number(g):void 0,min:e.minimum,max:e.maximum,step:d};return r?.["ui:widget"]==="range"?l?.range?.(y)||a("range"):r?.["ui:widget"]==="rating"?l?.rating?.(y)||a("rating"):l?.number?.(y)||a("number")}if(e.type?.includes("boolean")){const d={...p,value:typeof g<"u"?!!g:void 0};return r?.["ui:widget"]==="switch"?l?.switch?.(d)||a("switch"):r?.["ui:widget"]==="radio"?l?.radioGroupBoolean?.(d)||a("radio group boolean"):r?.["ui:widget"]==="button"?l?.buttonGroupBoolean?.(d)||a("button group boolean"):l?.checkbox?.(d)||a("boolean")}return a(`Wrong input for: ${i.join("/")}`)},ir=(e,t,i,r,s,n,o,c,l,h=0)=>{const a=i.join(".");function u(T){const p={id:a,message:`Missing ${T} widget.`};return l?.callout?.(p)??S`<p>${p.message}</p>`}const f=e.description??s?.["ui:help"]??"",_=e.items;if(typeof _!="object"||Array.isArray(_))return;const b=T=>{const p=[...c,"items","enum"];o(i,T,p)},A=s?.["ui:disabled"]||!1,g={label:e.title,helpText:f,value:t??e?.default,enum:_.enum,disabled:A,level:h,id:a,valueChangedCallback:b};return s?.["ui:widget"]==="select"?l?.selectMultiple?.(g)||u("multi select"):l?.checkboxGroup?.(g)||u("array primitive")};var C=function(e,t,i,r){var s=arguments.length,n=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(n=(s<3?o(n):s>3?o(t,i,n):o(t,i))||n);return s>3&&n&&Object.defineProperty(t,i,n),n};class v extends W{constructor(){super(...arguments),this.schema={},this.data={},this.uiSchema={},this.submitCallback=()=>{},this.dataChangeCallback=()=>{},this.widgets={},this.styleSheets=[],this.experimental={},this.submitButton=!0,this.submitButtonText="Submit",this._uiState={},this.#e=()=>{const t={id:"__submit_button",label:this.submitButtonLabel},i="Missing submit widget.";return this.widgets?.submit?.(t)??this.widgets?.callout?.({message:i})??i},this.#t=Te()}_dig(t,i,r,s,n,o,c=!1,l=0){let h;const a=t;if(typeof a.$ref<"u"||typeof a?.items=="object"&&"$ref"in a.items){let f=a.$ref;if(typeof a.items=="object"&&!Array.isArray(a.items)&&a.items?.$ref&&(f=a.items.$ref),f?.startsWith?.("#/definitions/")){const _=f.split("/")?.[2];a?.properties||(a.items={...this.schema.definitions?.[_]})}}if(a.type?.includes("boolean")||a.type?.includes("string")||a.type?.includes("integer")||a.format==="date"||a.format==="date-time"||a.type?.includes("number")){const f=[...o];h=er(a,i,r,n,c,this._handleChange.bind(this),this._handleKeydown.bind(this),f,this.widgets)}if(a.properties||a.allOf){if(a.allOf&&this.experimental?.allOf!==!0)return S`Unsupported feature.`;const f=t,_=[...o];_.push("properties"),h=Ht(f,i,r,s,n,this._dig.bind(this),_,this.widgets,l)}if(a.type==="array"&&typeof a.items=="object"&&!Array.isArray(a.items)&&a.items.enum&&a.uniqueItems&&(a.items.type==="string"||a.items.type==="number"||a.items.type==="integer"||a.items.type==="boolean")){const f=[...o];h=ir(a,i,r,s,n,c,this._handleChange.bind(this),f,this.widgets,l)}if(typeof a.items=="object"){if(Array.isArray(a.items)){const f={...t,properties:{}};a.items.forEach((b,A)=>{f.properties&&(f.properties[A]=b)});const _=[...o,"items"];h=Ht(f,i,r,s,n,this._dig.bind(this),_,this.widgets,l)}else if(!((a.items.type==="string"||a.items.type==="number")&&a.items.enum)){const f=[...o];i||=[],h=tr(t,i,r,s,n,this._handleChange.bind(this),this._dig.bind(this),f,this.widgets,c,l)}}if(h)return h;const u=`Cannot dig this level: ${r.join("/")} - (${String(a.type)})`;return this.widgets?.callout?.({id:"",message:u})??S`<p>${u}</p>`}_setToValue(t,i,r){t&&typeof t=="object"&&Li(t,r,i)}_handleChange(t,i,r){if(!(this.data&&typeof this.data=="object"))return;let s={...this.data};t.length===0?s={}:this._setToValue(s,i,t),this.data=s,this.dataChangeCallback(s,t,i,r)}_handleKeydown(t){console.log("cccccccccccccc");const i=t.metaKey||t.ctrlKey||t.shiftKey||t.altKey;t.key==="Enter"&&!i&&setTimeout(()=>{if(!t.defaultPrevented&&!t.isComposing){console.log({event:t});const r=this.#t.value;let s=!0,n;if(!r.noValidate){const o=r.querySelectorAll("*");for(const c of o)typeof c.reportValidity=="function"&&(c.reportValidity()||(s=!1,n||(n=c)));n&&n?.reportValidity()}this.submitCallback(this.data,s)}})}_updateUi(t,i){if(!(this._uiState&&typeof this._uiState=="object"))return;const r={...this._uiState};this._setToValue(r,i,t),this._uiState=r}#e;#t;render(){return S`
			<style>
				${It(this.styleSheets.join(`
`))}
			</style>

			<form
				${Oe(this.#t)}
				part="base"
				@submit=${t=>{console.log("hey"),t.preventDefault();const i=t.target.reportValidity();this.submitCallback(this.data,i)}}
				@invalid=${t=>{}}
			>
				${this._dig(this.schema,this.data,[],this._uiState,this.uiSchema,[],!1)}

				<!--  -->
				${this.submitButton?this.#e():m}
			</form>
		`}}C([w({type:Object})],v.prototype,"schema",void 0);C([w({type:Object})],v.prototype,"data",void 0);C([w({type:Object})],v.prototype,"uiSchema",void 0);C([w({type:Object})],v.prototype,"widgets",void 0);C([w({type:Array})],v.prototype,"styleSheets",void 0);C([w({type:Object})],v.prototype,"experimental",void 0);C([w({type:Boolean})],v.prototype,"submitButton",void 0);C([w({type:String})],v.prototype,"submitButtonText",void 0);C([me()],v.prototype,"_uiState",void 0);customElements.define("json-schema-form",v);export{v as Jsf};
